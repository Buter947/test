<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【四字熟語クイズ】穴埋め問題で腕試し！厳選100問</title>

    <style>
        /* [V5] 所有 Class 均使用 yjq-v5- 前綴 */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji" !important;
            line-height: 1.6 !important;
            background-color: #f8fafc !important;
            margin: 0;
            padding: 1rem;
        }
        .yjq-v5-container {
            font-family: inherit !important;
            line-height: 1.6 !important;
            background-color: #f9fafb !important;
            border: 1px solid #e5e7eb !important;
            border-radius: 0.75rem !important;
            padding: 2rem !important;
            margin: 2rem auto !important;
            max-width: 650px !important;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -2px rgba(0, 0, 0, 0.05) !important;
        }
        .yjq-v5-container *, 
        .yjq-v5-container *::before, 
        .yjq-v5-container *::after {
            box-sizing: border-box !important;
        }
        .yjq-v5-container .yjq-v5-screen {
            display: none; 
            animation: fadeInYjqV5 0.3s ease-in-out !important;
        }
        .yjq-v5-container .yjq-v5-screen.active {
            display: block !important;
        }
         @keyframes fadeInYjqV5 { /* 獨立動畫名稱 */
             from { opacity: 0; transform: translateY(10px); }
             to { opacity: 1; transform: translateY(0); }
         }
        .yjq-v5-container h2 {
            color: #B45309 !important;
            text-align: center !important;
            font-size: 2rem !important;
            font-weight: 700 !important;
            margin-top: 0 !important;
            margin-bottom: 0.5rem !important;
        }
        .yjq-v5-container .yjq-v5-subtitle {
            text-align: center !important;
            font-size: 1.1rem !important;
            color: #4b5563 !important;
            margin: 0 auto 2rem auto !important;
        }
        .yjq-v5-container .yjq-v5-main-btn {
            display: block !important;
            width: 100% !important;
            max-width: 300px !important;
            margin: 2rem auto 0 auto !important;
            padding: 1rem !important;
            font-size: 1.25rem !important;
            font-weight: 700 !important;
            color: #ffffff !important;
            background-color: #16a34a !important;
            border: none !important;
            border-radius: 0.5rem !important;
            cursor: pointer !important;
            transition: background-color 0.2s, transform 0.1s !important;
        }
        .yjq-v5-container .yjq-v5-main-btn:hover { background-color: #15803d !important; }
        .yjq-v5-container .yjq-v5-main-btn:active { transform: scale(0.98) !important; }
        
        .yjq-v5-container .yjq-v5-question-counter {
            text-align: center;
            font-size: 1rem;
            font-weight: 600;
            color: #6b7280;
            margin-bottom: 1rem;
        }
        .yjq-v5-container .yjq-v5-question-text {
            font-size: 2.5rem !important;
            font-weight: 700 !important;
            color: #111827 !important;
            text-align: center;
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 2.5rem 1.5rem;
            margin-bottom: 2rem;
            letter-spacing: 0.1em; 
        }
        .yjq-v5-container .yjq-v5-options-container {
            display: grid !important;
            grid-template-columns: 1fr !important;
            gap: 0.75rem !important;
        }
        .yjq-v5-container .yjq-v5-option-btn {
            width: 100% !important;
            padding: 1rem !important;
            font-size: 1.25rem !important;
            font-weight: 600 !important;
            color: #374151 !important;
            background-color: #ffffff !important;
            border: 1px solid #d1d5db !important;
            border-radius: 0.5rem !important;
            cursor: pointer !important;
            transition: all 0.2s ease !important;
            text-align: center;
        }
        .yjq-v5-container .yjq-v5-option-btn:not(:disabled):hover {
            border-color: #B45309 !important;
            color: #B45309 !important;
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05) !important;
        }
        .yjq-v5-container .yjq-v5-option-btn:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .yjq-v5-container .yjq-v5-option-btn.correct {
            background-color: #dcfce7 !important;
            border-color: #16a34a !important;
            color: #15803d !important;
            font-weight: 700 !important;
        }
        .yjq-v5-container .yjq-v5-option-btn.wrong {
            background-color: #fee2e2 !important;
            border-color: #dc2626 !important;
            color: #b91c1c !important;
            opacity: 1 !important;
        }
        
        .yjq-v5-container .yjq-v5-feedback-container {
            display: none;
            background-color: #ffffff;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
            padding: 1.5rem;
            /* [V5 修正] 調整 margin-top */
            margin-top: 1.5rem; 
            text-align: center;
            animation: fadeInYjqV5 0.3s ease-in-out !important;
        }
        .yjq-v5-container .yjq-v5-feedback-text {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 0 0 1rem 0;
        }
        .yjq-v5-container .yjq-v5-feedback-text.correct { color: #16a34a; }
        .yjq-v5-container .yjq-v5-feedback-text.wrong { color: #dc2626; }
        
        .yjq-v5-container .yjq-v5-answer-details {
            text-align: left;
        }
        .yjq-v5-container .yjq-v5-answer-full {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }
        .yjq-v5-container .yjq-v5-answer-read {
            font-size: 1rem;
            font-weight: 500;
            color: #4b5563;
        }
        .yjq-v5-container .yjq-v5-answer-mean {
            font-size: 0.95rem;
            color: #374151;
            margin-top: 0.5rem;
        }
        
        .yjq-v5-container .yjq-v5-next-btn {
            display: none; 
            width: 100%;
            background-color: #0284c7;
            /* [V5 修正] 調整 margin-top */
            margin-top: 1.5rem; 
        }
        .yjq-v5-container .yjq-v5-next-btn:hover {
            background-color: #0369a1;
        }
        
        .yjq-v5-container .yjq-v5-score-display {
            font-size: 1.5rem;
            font-weight: 600;
            color: #1f2937;
            text-align: center;
        }
         .yjq-v5-container .yjq-v5-score-display .score {
             font-size: 3rem;
             font-weight: 700;
             color: #B45309;
             display: block;
             margin: 0.5rem 0;
         }
         
         @media (max-width: 600px) {
            .yjq-v5-container {
                padding: 1.5rem !important;
                margin: 1rem auto !important; /* Mobile margin */
            }
             .yjq-v5-container h2 {
                 font-size: 1.75rem !important;
             }
             .yjq-v5-container .yjq-v5-question-text {
                 font-size: 2rem !important;
             }
         }
    </style>
</head>
<body>

    <div id="yojijukugo-quiz-app-v5" class="yjq-v5-container">
        <div class="yjq-v5-card">
            <div class="yjq-v5-screen active" data-screen="start">
                <h2>四字熟語 穴埋めクイズ</h2>
                <p class="yjq-v5-subtitle">ランダムに10問出題されます。<br>正しい漢字の組み合わせを選んでください。</p>
                <button class="yjq-v5-main-btn" data-action="start">クイズ開始</button>
            </div>

            <div class="yjq-v5-screen" data-screen="quiz">
                <div class="yjq-v5-question-counter" data-text="counter"></div>
                <div class="yjq-v5-question-text" data-text="question"></div>
                <div class="yjq-v5-options-container" data-container="options"></div>
                
                <button class="yjq-v5-main-btn yjq-v5-next-btn" data-action="next">次の問題へ</button>
                <div class="yjq-v5-feedback-container" data-container="feedback">
                    <h3 class="yjq-v5-feedback-text" data-text="feedback"></h3>
                    <div class="yjq-v5-answer-details">
                        <div class="yjq-v5-answer-full" data-text="answer-full"></div>
                        <div class="yjq-v5-answer-read" data-text="answer-read"></div>
                        <p class="yjq-v5-answer-mean" data-text="answer-mean"></p>
                    </div>
                </div>
            </div>

            <div class="yjq-v5-screen" data-screen="score">
                <h2>お疲れ様でした！</h2>
                <div class="yjq-v5-score-display">
                    あなたのスコア:
                    <span class="score" data-text="score">10問中 8問</span>
                    正解
                </div>
                <button class="yjq-v5-main-btn" data-action="restart">もう一度挑戦する</button>
            </div>
        </div>
    </div>

    <script>
    // 規範 1.6 (IIFE)
    (function() {
        // 規範 1.5 (DOMContentLoaded)
        document.addEventListener('DOMContentLoaded', function() {
            // [V5 修正] 使用固定 ID 啟動
            const app = document.getElementById('yojijukugo-quiz-app-v5'); 
            if (!app) {
                console.error("YJQ V5: Container #yojijukugo-quiz-app-v5 not found.");
                return;
            }

            // --- [V5 修正] 核心資料庫 (100 詞，已修正錯誤選項) ---
            const yjq_v5_quizData = [
                // 基本 (1-20)
                { q: '一石□□', a: '二鳥', fakes: ['二兎', '二足', '二兆'], full: '一石二鳥', read: 'いっせきにちょう', mean: '一つのことで二つの利益を得ること。' },
                { q: '一期□□', a: '一会', fakes: ['一期', '一合', '一絵'], full: '一期一会', read: 'いちごいちえ', mean: '一生に一度だけの機会。' },
                { q: '以心□□', a: '伝心', fakes: ['伝信', '同心', '電信'], full: '以心伝心', read: 'いしんでんしん', mean: '言葉にしなくてもお互いの気持ちが通じ合うこと。' },
                { q: '一長□□', a: '一短', fakes: ['一利', '一失', '一得'], full: '一長一短', read: 'いっちょういったん', mean: '良いところもあれば、悪いところもあること。' },
                { q: '悪戦□□', a: '苦闘', fakes: ['奮闘', '苦行', '苦戦'], full: '悪戦苦闘', read: 'あくせんくとう', mean: '困難な状況で、苦しみながらも努力すること。' },
                { q: '油断□□', a: '大敵', fakes: ['大損', '注意', '大失敗'], full: '油断大敵', read: 'ゆだんたいてき', mean: '注意を怠ると大きな失敗を招くという戒め。' },
                { q: '我田□□', a: '引水', fakes: ['引火', '引力', '引退'], full: '我田引水', read: 'がでんいんすい', mean: '自分の都合のよいように物事を進めること。' },
                { q: '画竜□□', a: '点睛', fakes: ['点眼', '点描', '点灯'], full: '画竜点睛', read: 'がりょうてんせい', mean: '物事の最後の仕上げ。' },
                { q: '起承□□', a: '転結', fakes: ['転回', '転換', '転落'], full: '起承転結', read: 'きしょうてんけつ', mean: '物事の順序や組み立て。' },
                { q: '漁夫□□', a: 'の利', fakes: ['の益', 'の得', 'の徳'], full: '漁夫の利', read: 'ぎょふのり', mean: '二者が争っている間に、第三者が利益を得ること。' },
                { q: '九死□□', a: '一生', fakes: ['一命', '一回', '一毛'], full: '九死一生', read: 'きゅうしいっしょう', mean: 'かろうじて命が助かること。' },
                { q: '言行□□', a: '一致', fakes: ['不同', '相反', '不一致'], full: '言行一致', read: 'げんこういっち', mean: '口で言うことと行動が同じであること。' },
                { q: '三寒□□', a: '四温', fakes: ['四季', '四苦', '四寒'], full: '三寒四温', read: 'さんかんしおん', mean: '冬の気候が周期的に変わること。' },
                { q: '自業□□', a: '自得', fakes: ['自爆', '自滅', '自賛'], full: '自業自得', read: 'じごうじとく', mean: '自分でした悪い行いの報いを自分で受けること。' },
                { q: '四面□□', a: '楚歌', fakes: ['楚国', '危機', '包囲'], full: '四面楚歌', read: 'しめんそか', mean: '周りがすべて敵で、助けがない状態。' },
                { q: '弱肉□□', a: '強食', fakes: ['強弱', '強者', '弱者'], full: '弱肉強食', read: 'じゃにくきょうしょく', mean: '弱い者が強い者のえじきになること。' },
                { q: '十人□□', a: '十色', fakes: ['十彩', '十心', '十人'], full: '十人十色', read: 'じゅうにんといろ', mean: '人それぞれ好みや考え方が違うこと。' },
                { q: '試行□□', a: '錯誤', fakes: ['失敗', '錯覚', '成功'], full: '試行錯誤', read: 'しこうさくご', mean: '試みと失敗を繰り返しながら、解決策を見つけていくこと。' },
                { q: '大器□□', a: '晩成', fakes: ['晩熟', '晩年', '晩御'], full: '大器晩成', read: 'たいきばんせい', mean: '偉大な人物は、大成するのが遅いということ。' },
                { q: '虎視□□', a: '眈々', fakes: ['耽々', '淡々', '丹々'], full: '虎視眈々', read: 'こしたんたん', mean: '機会をじっと狙っている様子。' },
                
                // 常用 (21-40)
                { q: '独立□□', a: '独歩', fakes: ['独行', '独走', '独白'], full: '独立独歩', read: 'どくりつどっぽ', mean: '他人に頼らず、自分の信じる道を進むこと。' },
                { q: '朝三□□', a: '暮四', fakes: ['暮五', '暮二', '暮六'], full: '朝三暮四', read: 'ちょうさんぼし', mean: '目先の違いにとらわれ、結果が同じであることに気づかないこと。' },
                { q: '天変□□', a: '地異', fakes: ['地変', '地動', '地震'], full: '天変地異', read: 'てんぺんちい', mean: '天地で起こる自然の大きな変動。' },
                { q: '日進□□', a: '月歩', fakes: ['月進', '年歩', '日歩'], full: '日進月歩', read: 'にっしんげっぽ', mean: '技術などが絶え間なく、急速に進歩すること。' },
                { q: '馬耳□□', a: '東風', fakes: ['西風', '南風', '北風'], full: '馬耳東風', read: 'ばじとうふう', mean: '人の意見や忠告を、全く気にかけずに聞き流すこと。' },
                { q: '半信□□', a: '半疑', fakes: ['半解', '半知', '半信'], full: '半信半疑', read: 'はんしんはんぎ', mean: '半分信じているが、半分疑っている状態。' },
                { q: '美人□□', a: '薄命', fakes: ['薄幸', '薄情', '薄氷'], full: '美人薄命', read: 'びじんはくめい', mean: '美しい女性は、不幸であったり短命であったりすることが多い。' },
                { q: '不言□□', a: '実行', fakes: ['無言', '即時', '熟考'], full: '不言実行', read: 'ふげんじっこう', mean: 'あれこれ言わず、黙って行うこと。' },
                { q: '粉骨□□', a: '砕身', fakes: ['砕骨', '粉身', '砕心'], full: '粉骨砕身', read: 'ふんこつさいしん', mean: '力の限り努力すること。' },
                { q: '無我□□', a: '夢中', fakes: ['夢想', '無心', '無念'], full: '無我夢中', read: 'むがむちゅう', mean: '我を忘れるほど、一つのことに熱中すること。' },
                { q: '三日□□', a: '坊主', fakes: ['天下', '勤勉', '怠慢'], full: '三日坊主', read: 'みっかぼうず', mean: '非常に飽きっぽく、長続きしないこと。' },
                { q: '唯一□□', a: '無二', fakes: ['無三', '無一', '無双'], full: '唯一無二', read: 'ゆいいつむに', mean: 'この世にただ一つしかないこと。' },
                { q: '竜頭□□', a: '蛇尾', fakes: ['蛇頭', '竜尾', '蛇身'], full: '竜頭蛇尾', read: 'りゅうとうだび', mean: '初めは勢いが良いが、終わりは振るわないこと。' },
                { q: '和洋□□', a: '折衷', fakes: ['折半', '折衝', '折合'], full: '和洋折衷', read: 'わようせっちゅう', mean: '日本風と西洋風のスタイルを、うまく取り混ぜること。' },
                { q: '温故□□', a: '知新', fakes: ['知故', '知古', '知今'], full: '温故知新', read: 'おんこちしん', mean: '古いことを研究し、そこから新しい知識や道理を発見すること。' },
                { q: '暗中□□', a: '模索', fakes: ['模作', '摸索', '探索'], full: '暗中模索', read: 'あんちゅうもさく', mean: '手がかりがないまま、色々と試みること。' },
                { q: '意気□□', a: '投合', fakes: ['消沈', '高揚', '同意'], full: '意気投合', read: 'いきとうごう', mean: '互いの気持ちや考えがぴったりと合うこと。' },
                { q: '因果□□', a: '応報', fakes: ['応酬', '報復', '報恩'], full: '因果応報', read: 'いんがおうほう', mean: '過去の善悪の行いに応じて、報いがあること。' },
                { q: '臥薪□□', a: '嘗胆', fakes: ['賞胆', '証胆', '常胆'], full: '臥薪嘗胆', read: 'がしんしょうたん', mean: '将来の成功のために、苦労を耐え忍ぶこと。' },
                { q: '自画□□', a: '自賛', fakes: ['自慢', '自称', '自負'], full: '自画自賛', read: 'じがじさん', mean: '自分で自分のことを褒めること。' },

                // 進階 (41-60)
                { q: '七転□□', a: '八起', fakes: ['八倒', '七倒', '八転'], full: '七転八起', read: 'しちてんはっき', mean: '何度失敗しても、くじけずに立ち上がること。' },
                { q: '自問□□', a: '自答', fakes: ['自刀', '自当', '他答'], full: '自問自答', read: 'じもんじとう', mean: '自分で問いかけ、自分で答えること。' },
                { q: '絶体□□', a: '絶命', fakes: ['絶後', '絶望', '延命'], full: '絶体絶命', read: 'ぜったいぜつめい', mean: 'どうしても逃れられない困難な状況。' },
                { q: '傍若□□', a: '無人', fakes: ['無礼', '無頼', '無心'], full: '傍若無人', read: 'ぼうじゃくぶじん', mean: '人前をはばからず、勝手気ままにふるまうこと。' },
                { q: '本末□□', a: '転倒', fakes: ['転換', '転落', '顛倒'], full: '本末転倒', read: 'ほんまつてんとう', mean: '根本的で重要なことと、ささいなことを取り違えること。' },
                { q: '一網□□', a: '打尽', fakes: ['一掃', '一獲', '全滅'], full: '一網打尽', read: 'いちもうだじん', mean: '一度に悪党などをすべて捕らえること。' },
                { q: '呉越□□', a: '同舟', fakes: ['同船', '同心', '同室'], full: '呉越同舟', read: 'ごえつどうしゅう', mean: '仲の悪い者同士が、同じ場所に居合わせること。' },
                { q: '五里□□', a: '霧中', fakes: ['夢中', '霧散', '五中'], full: '五里霧中', read: 'ごりむちゅう', mean: 'すっかり道に迷い、どうしてよいか分からないこと。' },
                { q: '言語□□', a: '道断', fakes: ['同断', '道壇', '動断'], full: '言語道断', read: 'ごんごどうだん', mean: '言葉で言い表せないほどひどいこと。もってのほか。' },
                { q: '前代□□', a: '未聞', fakes: ['未見', '未曾有', '未聴'], full: '前代未聞', read: 'ぜんだいみもん', mean: '今までに一度も聞いたことがないような珍しいこと。' },
                { q: '一意□□', a: '専心', fakes: ['専念', '集中', '決心'], full: '一意専心', read: 'いちいせんしん', mean: '他を顧みず、一つのことだけに心を集中すること。' },
                { q: '威風□□', a: '堂々', fakes: ['堂堂', '凛々', '正々'], full: '威風堂々', read: 'いふうどうどう', mean: '威厳があり、立派であるさま。' },
                { q: '意味□□', a: '深長', fakes: ['深遠', '深重', '難解'], full: '意味深長', read: 'いみしんちょう', mean: '言葉の裏に深い意味が隠されていること。' },
                { q: '因循□□', a: '姑息', fakes: ['旧弊', '暫定', '安易'], full: '因循姑息', read: 'いんじゅんこそく', mean: '古い習慣に頼って、その場しのぎの間に合わせをすること。' },
                { q: '紆余□□', a: '曲折', fakes: ['屈折', '弯曲', '蛇行'], full: '紆余曲折', read: 'うよきょくせつ', mean: '事情が複雑で解決に手間取ること。' },
                { q: '雲散□□', a: '霧消', fakes: ['霧散', '雲消', '解消'], full: '雲散霧消', read: 'うんさんむしょう', mean: '物事がすっかり消えてなくなること。' },
                { q: '栄枯□□', a: '盛衰', fakes: ['盛者', '必衰', '興亡'], full: '栄枯盛衰', read: 'えいこせいすい', mean: '栄えたり衰えたりすること。' },
                { q: '夏炉□□', a: '冬扇', fakes: ['冬陽', '冬日', '冬服'], full: '夏炉冬扇', read: 'かろとうせん', mean: '時期外れで役に立たない物事のたとえ。' },
                { q: '完全□□', a: '無欠', fakes: ['無類', '完璧', '無二'], full: '完全無欠', read: 'かんぜんむけつ', mean: '欠点がまったくないこと。' },
                { q: '奇想□□', a: '天外', fakes: ['天内', '天来', '天涯'], full: '奇想天外', read: 'きそうてんがい', mean: '普通の人では思いつかないような、奇抜な考え。' },

                // 高難度 (61-80)
                { q: '急転□□', a: '直下', fakes: ['直滑', '直上', '直前'], full: '急転直下', read: 'きゅうてんちょっか', mean: '事態が急に変わり、決着に向かうこと。' },
                { q: '玉石□□', a: '混淆', fakes: ['混交', '混合', '混同'], full: '玉石混淆', read: 'ぎょくせきこんこう', mean: '良いものと悪いものが入り混じっていること。' },
                { q: '空前□□', a: '絶後', fakes: ['絶代', '絶世', '絶好'], full: '空前絶後', read: 'くうぜんぜつご', mean: '過去にも例がなく、未来にも起こり得ないような珍しいこと。' },
                { q: '厚顔□□', a: '無恥', fakes: ['無知', '無礼', '無作法'], full: '厚顔無恥', read: 'こうがんむち', mean: '厚かましく、恥知らずなさま。' },
                { q: '荒唐□□', a: '無稽', fakes: ['無形', '無策', '無体'], full: '荒唐無稽', read: 'こうとうむけい', mean: '言動に根拠がなく、でたらめなこと。' },
                { q: '公平□□', a: '無私', fakes: ['無欲', '無心', '無情'], full: '公平無私', read: 'こうへいむし', mean: '偏りがなく、私的な感情を挟まないこと。' },
                { q: '孤立□□', a: '無援', fakes: ['無縁', '無力', '無勢'], full: '孤立無援', read: 'こりつむえん', mean: '仲間も助けもなく、一人ぼっちになること。' },
                { q: '才色□□', a: '兼備', fakes: ['兼優', '兼全', '兼美'], full: '才色兼備', read: 'さいしょくけんび', mean: '才能と美しい容姿の両方を兼ね備えていること。' },
                { q: '山紫□□', a: '水明', fakes: ['水清', '水麗', '水鏡'], full: '山紫水明', read: 'さんしすいめい', mean: '自然の景色が清らかで美しいこと。' },
                { q: '縦横□□', a: '無尽', fakes: ['無双', '自在', '無辺'], full: '縦横無尽', read: 'じゅうおうむじん', mean: '自由自在に、思う存分ふるまうこと。' },
                { q: '純真□□', a: '無垢', fakes: ['無邪', '無心', '無知'], full: '純真無垢', read: 'じゅんしんむく', mean: '心が純粋で、まったく汚れがないこと。' },
                { q: '順風□□', a: '満帆', fakes: ['満船', '満開', '満載'], full: '順風満帆', read: 'じゅんぷうまんぱん', mean: '物事が順調に進むことのたとえ。' },
                { q: '盛者□□', a: '必衰', fakes: ['必滅', '必亡', '必敗'], full: '盛者必衰', read: 'じょうしゃひっすい', mean: '勢いが盛んな者も、必ず衰える時がくること。' },
                { q: '支離□□', a: '滅裂', fakes: ['滅烈', '分裂', '滅茶'], full: '支離滅裂', read: 'しりめつれつ', mean: '物事の筋道が立たず、ばらばらであること。' },
                { q: '新進□□', a: '気鋭', fakes: ['気英', '新鋭', '気勢'], full: '新進気鋭', read: 'しんしんきえい', mean: 'ある分野に新しく登場し、意気込みが鋭いこと。' },
                { q: '晴耕□□', a: '雨読', fakes: ['雨続', '晴読', '雨作'], full: '晴耕雨読', read: 'せいこううどく', mean: '自由な暮らし。' },
                { q: '切磋□□', a: '琢磨', fakes: ['研磨', '修練', '磨練'], full: '切磋琢磨', read: 'せっさたくま', mean: '仲間同士が互いに励まし合い、向上すること。' },
                { q: '千載□□', a: '一遇', fakes: ['一期', '一会', '一見'], full: '千載一遇', read: 'せんざいいちぐう', mean: '千年に一度しか会えないような、滅多にない良い機会。' },
                { q: '大義□□', a: '名分', fakes: ['明文', '大分', '名言'], full: '大義名分', read: 'たいぎめいぶん', mean: '何か行動を起こすための、正当な理由や根拠。' },
                { q: '大同□□', a: '小異', fakes: ['少異', '小同', '大差'], full: '大同小異', read: 'だいどうしょうい', mean: '細かい違いはあっても、全体としてはほぼ同じであること。' },

                // [V5 修正] 81-100 (已修正 Fakes)
                { q: '単刀□□', a: '直入', fakes: ['直言', '突入', '直流'], full: '単刀直入', read: 'たんとうちょくにゅう', mean: '前置きなしに、いきなり本題に入ること。' },
                { q: '天真□□', a: '爛漫', fakes: ['爛然', '乱漫', '無邪'], full: '天真爛漫', read: 'てんしんらんまん', mean: '飾気がなく、ありのままで純粋なさま。' },
                { q: '東奔□□', a: '西走', fakes: ['西行', '東走', '南北'], full: '東奔西走', read: 'とうほんせいそう', mean: 'あちこち忙しく走り回ること。' },
                { q: '二人□□', a: '三脚', fakes: ['三足', '二足', '一脚'], full: '二人三脚', read: 'ににんさんきゃく', mean: '二人が協力して物事に取り組むこと。' },
                { q: '八方□□', a: '美人', fakes: ['美男', '美言', '美心'], full: '八方美人', read: 'はっぽうびじん', mean: '誰からも悪く思われないように、うまく立ち回る人。' },
                { q: '波瀾□□', a: '万丈', fakes: ['千丈', '万乗', '波高'], full: '波瀾万丈', read: 'はらんばんじょう', mean: '変化が激しく、浮き沈みの多い人生。' },
                { q: '眉目□□', a: '秀麗', fakes: ['秀才', '美麗', '端麗'], full: '眉目秀麗', read: 'びもくしゅうれい', mean: '顔立ちが整っていて美しいさま。（主に男性に使う）' },
                { q: '付和□□', a: '雷同', fakes: ['雷電', '同調', '雷鳴'], full: '付和雷同', read: 'ふわらいどう', mean: '自分の考えがなく、他人の意見にすぐ同調すること。' },
                { q: '品行□□', a: '方正', fakes: ['公正', '端正', '不正'], full: '品行方正', read: 'ひんこうほうせい', mean: '行いが正しく、きちんとしていること。' },
                { q: '優柔□□', a: '不断', fakes: ['不定', '不安', '不決'], full: '優柔不断', read: 'ゆうじゅうふだん', mean: 'ぐずぐずしていて、物事をなかなか決断できないこと。' },
                { q: '用意□□', a: '周到', fakes: ['周密', '周全', '準備'], full: '用意周到', read: 'よういしゅうとう', mean: '準備がすみずみまで行き届いていること。' },
                { q: '臨機□□', a: '応変', fakes: ['対応', '応答', '変化'], full: '臨機応変', read: 'りんきおうへん', mean: 'その時々の状況に応じて、適切な対応をすること。' },
                { q: '老若□□', a: '男女', fakes: ['老若', '全員', '皆無'], full: '老若男女', read: 'ろうにゃくなんにょ', mean: '老人も若者も男も女も、すべての人。' },
                { q: '公明□□', a: '正大', fakes: ['正義', '公正', '明大'], full: '公明正大', read: 'こうめいせいだい', mean: '公平で私心がなく、言動が正しく堂々としていること。' },
                { q: '自給□□', a: '自足', fakes: ['自給', '満足', '自立'], full: '自給自足', read: 'じきゅうじそく', mean: '必要なものを自分で生産し、満たすこと。' },
                { q: '自暴□□', a: '自棄', fakes: ['自暴', '自壊', '自滅'], full: '自暴自棄', read: 'じぼうじき', mean: 'やけになって、どうなってもいいと投げやりな行動をとること。' },
                { q: '疾風□□', a: '迅雷', fakes: ['雷電', '電光', '迅速'], full: '疾風迅雷', read: 'しっぷうじんらい', mean: '素早く激しいさま。' },
                { q: '森羅□□', a: '万象', fakes: ['万物', '万事', '現象'], full: '森羅万象', read: 'しんらばんしょう', mean: '宇宙に存在するすべてのもの。' },
                { q: '青天□□', a: '霹靂', fakes: ['青天', '雷鳴', '驚愕'], full: '青天の霹靂', read: 'せいてんのへきれき', mean: '突然起こった予期しない出来事。' },
                { q: '絶景□□', a: '佳境', fakes: ['絶景', '美景', '最高'], full: '絶景佳境', read: 'ぜっけいかきょう', mean: '非常に素晴らしい景色や面白い場面。' }
            ];
            // --- 資料庫結束 (共 100 詞) ---

            // --- 元素獲取 (使用 data-* 屬性) ---
            const screens = {
                start: app.querySelector('[data-screen="start"]'),
                quiz: app.querySelector('[data-screen="quiz"]'),
                score: app.querySelector('[data-screen="score"]')
            };
            
            const elements = {
                startBtn: app.querySelector('[data-action="start"]'),
                restartBtn: app.querySelector('[data-action="restart"]'),
                nextBtn: app.querySelector('[data-action="next"]'),
                questionCounter: app.querySelector('[data-text="counter"]'),
                questionText: app.querySelector('[data-text="question"]'),
                optionsContainer: app.querySelector('[data-container="options"]'),
                feedbackContainer: app.querySelector('[data-container="feedback"]'),
                feedbackText: app.querySelector('[data-text="feedback"]'),
                answerFull: app.querySelector('[data-text="answer-full"]'),
                answerRead: app.querySelector('[data-text="answer-read"]'),
                answerMean: app.querySelector('[data-text="answer-mean"]'),
                scoreDisplay: app.querySelector('[data-text="score"]')
            };
            
            // --- 遊戲狀態 ---
            let currentQuestions = [];
            let score = 0;
            let currentQuestionIndex = 0;
            const QUESTIONS_PER_GAME = 10; // 每次測驗10題

            // --- [V5] 函數加上 yjq_v5_ 前綴 ---
            
            function yjq_v5_shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function yjq_v5_showScreen(screenName) {
                if (screens.start) screens.start.classList.remove('active');
                if (screens.quiz) screens.quiz.classList.remove('active');
                if (screens.score) screens.score.classList.remove('active');
                
                if (screens[screenName]) {
                    screens[screenName].classList.add('active');
                }
            }

            function yjq_v5_startGame() {
                score = 0;
                currentQuestionIndex = 0;
                currentQuestions = yjq_v5_shuffle([...yjq_v5_quizData]).slice(0, QUESTIONS_PER_GAME);
                
                yjq_v5_showScreen('quiz');
                yjq_v5_showQuestion();
            }

            function yjq_v5_showQuestion() {
                elements.feedbackContainer.style.display = 'none';
                elements.nextBtn.style.display = 'none';
                elements.optionsContainer.innerHTML = '';
                
                const q = currentQuestions[currentQuestionIndex];
                
                elements.questionCounter.textContent = `問題 ${currentQuestionIndex + 1} / ${QUESTIONS_PER_GAME}`;
                elements.questionText.textContent = q.q;
                
                // [V5 修正] fakes 已經在啟動時清理乾淨，直接使用
                const options = yjq_v5_shuffle([q.a, ...q.fakes]);
                
                options.forEach(option => {
                    const btn = document.createElement('button');
                    btn.className = 'yjq-v5-option-btn';
                    btn.textContent = option;
                    btn.dataset.answer = option;
                    elements.optionsContainer.appendChild(btn);
                });
            }

            function yjq_v5_checkAnswer(selectedBtn, selectedAnswer) {
                elements.optionsContainer.querySelectorAll('.yjq-v5-option-btn').forEach(btn => {
                    btn.disabled = true;
                });
                
                const q = currentQuestions[currentQuestionIndex];
                const correctAnswer = q.a;

                elements.answerFull.textContent = q.full;
                elements.answerRead.textContent = `[${q.read}]`;
                elements.answerMean.textContent = q.mean;
                elements.feedbackContainer.style.display = 'block';

                if (selectedAnswer === correctAnswer) {
                    score++;
                    selectedBtn.classList.add('correct');
                    elements.feedbackText.textContent = '正解！';
                    elements.feedbackText.className = 'yjq-v5-feedback-text correct';
                } else {
                    selectedBtn.classList.add('wrong');
                    const correctBtn = elements.optionsContainer.querySelector(`[data-answer="${correctAnswer}"]`);
                    if (correctBtn) {
                        correctBtn.classList.add('correct');
                    }
                    elements.feedbackText.textContent = '不正解...';
                    elements.feedbackText.className = 'yjq-v5-feedback-text wrong';
                }

                if (currentQuestionIndex < QUESTIONS_PER_GAME - 1) {
                    elements.nextBtn.textContent = '次の問題へ';
                } else {
                    elements.nextBtn.textContent = '結果を見る';
                }
                elements.nextBtn.style.display = 'block';
            }
            
            function yjq_v5_nextQuestion() {
                currentQuestionIndex++;
                if (currentQuestionIndex < QUESTIONS_PER_GAME) {
                    yjq_v5_showQuestion();
                } else {
                    yjq_v5_showScore();
                }
            }

            function yjq_v5_showScore() {
                yjq_v5_showScreen('score');
                elements.scoreDisplay.textContent = `${QUESTIONS_PER_GAME}問中 ${score}問`;
            }

            // --- 事件綁定 ---
            if (elements.startBtn) {
                 elements.startBtn.addEventListener('click', yjq_v5_startGame);
            }
            if (elements.restartBtn) {
                 elements.restartBtn.addEventListener('click', yjq_v5_startGame);
            }
            if (elements.nextBtn) {
                 elements.nextBtn.addEventListener('click', yjq_v5_nextQuestion);
            }
            
            if (elements.optionsContainer) {
                elements.optionsContainer.addEventListener('click', function(e) {
                    const targetBtn = e.target.closest('.yjq-v5-option-btn');
                    if (targetBtn && !targetBtn.disabled) {
                        yjq_v5_checkAnswer(targetBtn, targetBtn.dataset.answer);
                    }
                });
            }

        });
    })();
    </script>
</body>
</html>
